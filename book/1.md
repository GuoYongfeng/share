# React技术学习--入门篇

> 自ReactJS开源以来，前端繁荣的世界里又多了一位重量级的成员，在大家以拥抱的心态去接触它学习它的之前，我们有必要先去了解它解决了什么问题，它适用于什么场景。这是我开篇最想和大家一起聊的话题。

## 基本认识

React是一个用于构建用户界面的JAVASCRIPT库，它不是一个MVC框架，它最多只是View层，甚至React的思想并不是非常认可MVC模式。还有人拿React和Web Component相比较，其实他们二者并不是一个你死我活的竞争关系，你也可以使用React来开发出一个Web Component；还有人说，React有jsx语法，它是不是一个新的模板语言，其实jsx只是一个封装组件的语法，没有jsx，React也可以正常工作。

## 为什么用React

> - 高效DOM渲染

以前没有ajax技术的时候，web页面从服务端整体render出html送到浏览器端进行渲染，同样的，用户的一个改变页面的操作也会刷新整个页面来完成。直到有了ajax出现，实现页面局部刷新，带来的高效和分离让web开发者们惊叹不已。但随着而来的代价是，复杂的用户交互及展现需要通过大量的DOM操作来完成，这让页面的性能以及开发的效率又出现了新的瓶颈。

时至今日，谈到前端性能优化，减少DOM元素、减少reflow和repain、编码过程中尽量减少DOM的查询等手段是大家耳熟能详的。而页面任何UI的变化都是通过整体刷新来完成的。幸运的是，React通过自己实现的DOM Diff算法，计算出虚拟页面当前版本和新版本之间的差异，最小化重绘，避免不必要的DOM操作，解决了这两个公认的前端性能瓶颈，实现高效DOM渲染。

> -  组件化实现

组件化一直都是前端领域的挑战，在React出现之前，普遍通过资源重组的方式实现前端的组件化，比较典型的是fis的widget的实现。实现高效开发的重要前提之一是代码的高度重用，而组件化就是一个重要方向。有了组件化的实现，我们可以很直观的将一个页面分而治之，将一个复杂的页面分割成一小块一小块的独立组件，再通过组装的方式，完成一个复杂的页面。减轻了逻辑复杂度，实现了代码的重用。在React中使用JSX语法封装组件，可以将组件的DOM结构 数据逻辑甚至样式都聚合在一起，以独立组件的方式进行调用和展现。

React认为一个组件应该具有如下的特征：

* 可组合：一个组件可以和其他的组件一起使用或者可以直接嵌套在另一个组件内部，通过这样的组合方式，一个复杂的UI组件可以分拆成若干个简单的UI组件
* 可重用：每个组件都是具有独立功能的，它可以被使用在多个UI场景
* 可维护：每个小的组件仅仅包含自身的逻辑，更容易被理解和维护

> - 单向数据流

在React中，数据的流向是从父节点到子节点的单向流动，这样可以使组件简单并且容易把握，因为子节点是无状态的，只需要从父节点获取props渲染即可。这样带来的收益是，顶层组件的某个prop改变了，React就会向下递归遍历整棵组件树，重新渲染所有使用到了这个属性的组件。单向数据流带来的几个重要的好处是：
	* 相比之前的资源重组实现的组件，单向数据流可以很好的完成组件间的数据通信，否则的话，我们需要写一个事件机制来处理这个事情。
	* 大家可能会问，这所倡导的单向流动，那相对MVC或是MVVM框架的双向数据绑定简直是弱爆了。那么这里需要理解的是，这里的单向，是循环流动的单向，数据是持续更新的。双向数据绑定是优秀便捷的实现，这个需要用实现的成本和业务场景来考量二者了。
	* 对于单向数据流目前已经有很好的类库实现了，如flux reflux redux等。

## React和Angular等框架的差异

已经有无数的人追着问这样一些问题了：react和angular那个好，我应该学哪个啊？react也是前端的mvc框架吗？很多类似的问题，充斥在初学者的脑海。很多人认为 React 是 MVC 中的 V（视图），当然，我们也可以这么认为，正是因为它的这种位置，让React可以和各种前端框架进行结合。如果你是用backbone或是angular等框架，可以很容易的把react用起来完成view层的展现。

## 如何从Jquery的经验中转变过来

我已经习惯了jquery的api调用来操作dom书写业务逻辑，而且基于jquery有非常丰富的功能插件，如果从jquery的思维转变过来是在学习的路上无可避免的，而且很多人容易在这里被坑到。比如使用react的获取dom后又调用jquery的一个插件，这个时候就得很好的注意内存问题，确保在组件的生命周期结束的时候，dom上绑定的jquery插件也得进行解除绑定。

## 你在使用之前还是需要考虑这些

- 相比于之前的看不懂的官方文档，现在的中文论坛、文档、学习书籍慢慢完善起来了，但这还不够，这也是为什么写这个学习资料的原因。说这些的目的是，学习也需要考虑学习资源的。

- 它确实有些大，React 大小不到 144KB。通过 gzip 压缩传输后在 35KB 左右，当然，这不包括加载的jsx语法解析文件，以及其他丰富的引用资源，所以它的大小，也是选用时的考虑点。

- 我想，浏览器兼容性、周边生态、应用架构、事件系统等，也是你在使用后不得不考虑的问题。

- 任何一门新兴的技术都不是十全十美的出现，一些不是那么愉快的功能点也不妨碍我们对react的继续探索。所以有了这些基本的储备，我们可以坦然的开始了。